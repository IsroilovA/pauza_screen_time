<manifest xmlns:android="http://schemas.android.com/apk/res/android"
  xmlns:tools="http://schemas.android.com/tools"
  package="com.example.pauza_screen_time">
  
  <!-- Permission to access app usage statistics -->
  <uses-permission android:name="android.permission.PACKAGE_USAGE_STATS"
      tools:ignore="ProtectedPermissions" />
  
  <!-- Permission to draw overlay windows over other apps -->
  <uses-permission android:name="android.permission.SYSTEM_ALERT_WINDOW" />
  
  <!-- Permission to query all installed packages (Android 11+) -->
  <uses-permission android:name="android.permission.QUERY_ALL_PACKAGES"
      tools:ignore="QueryAllPackagesPermission" />
  
  <application>
    <!-- Accessibility service for monitoring foreground apps -->
    <service
        android:name=".app_restriction.AppMonitoringService"
        android:permission="android.permission.BIND_ACCESSIBILITY_SERVICE"
        android:exported="false">
      <intent-filter>
        <action android:name="android.accessibilityservice.AccessibilityService" />
      </intent-filter>
      <meta-data
          android:name="android.accessibilityservice"
          android:resource="@xml/accessibility_service_config" />
    </service>
  </application>
</manifest>
